generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model clients {
  id            String   @id
  nombre        String
  email         String   @unique @db.Citext
  telefono      String?
  direccion     String?
  password_hash String
  role          String
  activo        Boolean  @default(true)
  created_at    DateTime @default(now()) @db.Timestamptz(6)
  updated_at    DateTime @default(now()) @db.Timestamptz(6)

  @@index([activo], map: "idx_clients_activo")
  @@index([email], map: "idx_clients_email")
  @@map("clients")
}

model products {
  id          String   @id
  name        String   @unique
  price       Decimal  @db.Decimal(12, 2)
  stock       Int      @default(0)
  category    String
  description String?
  image       String?
  created_at  DateTime @default(now()) @db.Timestamptz(6)
  updated_at  DateTime @default(now()) @db.Timestamptz(6)

  @@index([stock], map: "idx_products_active_stock")
  @@index([category], map: "idx_products_category")
  @@map("products")
}
