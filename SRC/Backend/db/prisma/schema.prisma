generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl= env("DIRECT_URL")
}

model clients {
  id           String   @id
  nombre       String
  email        String   @unique
  telefono     String?
  direccion    String?
  passwordHash String   @map("password_hash")
  role         String
  activo       Boolean  @default(true)
  createdAt    DateTime @map("created_at") @default(now()) @db.Timestamptz(6)
  updatedAt    DateTime @map("updated_at") @default(now()) @db.Timestamptz(6)

  @@index([activo], map: "idx_clients_activo")
  @@index([email], map: "idx_clients_email")
  @@map("clients")
}

model products {
  id          String   @id
  name        String   @unique
  price       Int
  stock       Int      @default(0)
  category    String
  description String?
  image       String?
  createdAt  DateTime @map("created_at") @default(now()) @db.Timestamptz(6)
  updatedAt  DateTime @map("updated_at") @default(now()) @db.Timestamptz(6)

  @@index([stock], map: "idx_products_active_stock")
  @@index([category], map: "idx_products_category")
  @@map("products")
}
